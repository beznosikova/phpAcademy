<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Search for text</title>
    <script type="text/javascript">

        window.onload = function ()
        {
			var searchValuePrev = "";
			var element = document.getElementById("searchText");        	
        	var searchInput = document.getElementById("searchInput");

	       	searchInput.addEventListener("change", searchText);

	        function addStyle(searchValue)
	        {
	        	var regexp = new RegExp("("+searchValue+")", 'gi');

	        	if (element.innerText.search(regexp) != -1){
	        		element.innerHTML = element.innerHTML.replace(regexp, "<span class=\"search-text\">$1</span>");
	        	}
	        }

	        function clearStyle()
	        {
	        	if (searchValuePrev != ""){
		        	var regexp = new RegExp("<span class=\"search-text\">(" + searchValuePrev + ")</span>", 'gi');
	        		element.innerHTML = element.innerHTML.replace(regexp, "$1");
	        	}
	        }

	        function searchText(e)
	        {
	        	var searchValueCurrent = searchInput.value.trim();

	        	if ( searchValueCurrent != "" ){
	        		if (searchValuePrev){
		        		clearStyle(); // first - clear style for a previous search text
	        		}
	        		addStyle(searchValueCurrent);
	        		searchValuePrev = searchValueCurrent;
	        	} else {
	        		clearStyle();
	        	}
	        }
        }
    </script>
    <link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
            crossorigin="anonymous">
    <style>
    	body {margin-top: 30px;}
    	.search-text{background-color: #feff07e8;}
    </style>
</head>
<body>
<main role="main" class="container">
	<div class="form-group">
		<label for="searchInput">Enter search text</label>
		<input type="text" class="form-control" id="searchInput" placeholder="Enter text">
	</div>

	<div id="searchText">
		<div>
			Regular expressions are patterns used to match character combinations in strings. In JavaScript, regular expressions are also objects. These patterns are used with the exec and test methods of RegExp, and with the match, replace, search, and split methods of String. This chapter describes JavaScript regular expressions.
		</div>
		<div>
			Writing a regular expression pattern
			A regular expression pattern is composed of simple characters, such as /abc/, or a combination of simple and special characters, such as /ab*c/ or /Chapter (\d+)\.\d*/. The last example includes parentheses which are used as a memory device. The match made with this part of the pattern is remembered for later use, as described in Using parenthesized substring matches.

			Using simple patterns
			Simple patterns are constructed of characters for which you want to find a direct match. For example, the pattern /abc/ matches character combinations in strings only when exactly the characters 'abc' occur together and in that order. Such a match would succeed in the strings "Hi, do you know your abc's?" and "The latest airplane designs evolved from slabcraft." In both cases the match is with the substring 'abc'. There is no match in the string 'Grab crab' because while it contains the substring 'ab c', it does not contain the exact substring 'abc'.

			Using special characters
			When the search for a match requires something more than a direct match, such as finding one or more b's, or finding white space, the pattern includes special characters. For example, the pattern /ab*c/ matches any character combination in which a single 'a' is followed by zero or more 'b's (* means 0 or more occurrences of the preceding item) and then immediately followed by 'c'. In the string "cbbabbbbcdebc," the pattern matches the substring 'abbbbc'.

			The following table provides a complete list and description of the special characters that can be used in regular expressions.
		</div>
		<div>
			The g after the regular expression is an option or flag that performs a global search, looking in the whole string and returning all matches. It is explained in detail below in Advanced Searching With Flags.

			Using parentheses
			Parentheses around any part of the regular expression pattern causes that part of the matched substring to be remembered. Once remembered, the substring can be recalled for other use, as described in Using Parenthesized Substring Matches.

			For example, the pattern /Chapter (\d+)\.\d*/ illustrates additional escaped and special characters and indicates that part of the pattern should be remembered. It matches precisely the characters 'Chapter ' followed by one or more numeric characters (\d means any numeric character and + means 1 or more times), followed by a decimal point (which in itself is a special character; preceding the decimal point with \ means the pattern must look for the literal character '.'), followed by any numeric character 0 or more times (\d means numeric character, * means 0 or more times). In addition, parentheses are used to remember the first matched numeric characters.

			This pattern is found in "Open Chapter 4.3, paragraph 6" and '4' is remembered. The pattern is not found in "Chapter 3 and 4", because that string does not have a period after the '3'.

			To match a substring without causing the matched part to be remembered, within the parentheses preface the pattern with ?:. For example, (?:\d+) matches one or more numeric characters but does not remember the matched characters.
		</div>
	</div>
</main>
</body>
</html>
